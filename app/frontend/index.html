<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Doggzi Office OS</title>
  <link rel="stylesheet" href="/ui/styles.css" />
</head>
<body>
  <div class="app">
    <header class="top-bar">
      <div>
        <p class="eyebrow">Doggzi Pvt Ltd</p>
        <h1>Office OS Command Center</h1>
        <p class="subhead">Enterprise workflow system for HR, Finance, MD Governance, and Employee Operations.</p>
      </div>
      <div class="session-card">
        <div>
          <span class="label">Session</span>
          <strong id="session-status">Signed out</strong>
        </div>
        <div>
          <span class="label">Role</span>
          <strong id="session-role">-</strong>
        </div>
        <button id="logout-btn" class="secondary">Sign out</button>
      </div>
    </header>

    <nav class="nav-tabs">
      <button class="tab active" data-section="overview">Overview</button>
      <button class="tab" data-section="auth">Authentication</button>
      <button class="tab" data-section="employees">HR & Onboarding</button>
      <button class="tab" data-section="leaves">Attendance & Leave</button>
      <button class="tab" data-section="approvals">Approvals</button>
      <button class="tab" data-section="notifications">Notifications</button>
      <button class="tab" data-section="audit">Audit</button>
    </nav>

    <main class="content">
      <section id="overview" class="section active">
        <div class="grid two">
          <div class="card">
            <h2>Operational KPIs</h2>
            <p class="muted">Live system summary across HR, approvals, and compliance.</p>
            <div id="dashboard-summary" class="kpi-grid"></div>
            <button class="primary" id="refresh-dashboard">Refresh KPIs</button>
          </div>
          <div class="card">
            <h2>Workflow Controls</h2>
            <ul class="checklist">
              <li>Approval chains enforced per module</li>
              <li>Audit trail for all writes</li>
              <li>Role-gated UI and API access</li>
              <li>Notifications and status tracking</li>
            </ul>
            <div class="alert">
              Use the Authentication tab to register or sign in using @doggzi.com credentials.
            </div>
          </div>
        </div>
      </section>

      <section id="auth" class="section">
        <div class="grid two">
          <div class="card">
            <h2>Secure Login</h2>
            <form id="login-form" class="form">
              <label>Email
                <input type="email" name="email" placeholder="you@doggzi.com" required />
              </label>
              <label>Password
                <input type="password" name="password" required />
              </label>
              <button class="primary" type="submit">Login</button>
            </form>
            <p class="hint">Superuser: abhiyash@doggzi.com / 211310</p>
          </div>
          <div class="card">
            <h2>New User Signup</h2>
            <form id="signup-form" class="form">
              <label>Full name
                <input type="text" name="full_name" required />
              </label>
              <label>Email (@doggzi.com only)
                <input type="email" name="email" required />
              </label>
              <label>Phone number
                <input type="text" name="phone" required />
              </label>
              <label>Role requested
                <select name="role_requested" required>
                  <option value="HR">HR</option>
                  <option value="MD">MD</option>
                  <option value="EMPLOYEE">EMPLOYEE</option>
                  <option value="FINANCE">FINANCE</option>
                </select>
              </label>
              <button class="secondary" type="submit">Submit for approval</button>
            </form>
            <p class="hint">Approval requests route to Superuser for final validation.</p>
          </div>
        </div>
      </section>

      <section id="employees" class="section">
        <div class="card">
          <div class="card-header">
            <div>
              <h2>Employee Onboarding</h2>
              <p class="muted">Only approved users can be onboarded into HR records.</p>
            </div>
            <button class="secondary" id="refresh-employees">Refresh</button>
          </div>
          <form id="employee-form" class="form grid two">
            <label>Employee Code<input name="employee_code" required /></label>
            <label>Full Name<input name="full_name" required /></label>
            <label>Email<input type="email" name="email" /></label>
            <label>Phone<input name="phone" /></label>
            <label>DOB<input type="date" name="dob" /></label>
            <label>Department<input name="department" /></label>
            <label>Designation<input name="designation" /></label>
            <label>Manager<input name="manager_name" /></label>
            <label>Joining Date<input type="date" name="join_date" /></label>
            <label>Status
              <select name="status">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </label>
            <div class="form-actions">
              <button class="primary" type="submit">Create Employee</button>
            </div>
          </form>
        </div>
        <div class="card">
          <h3>Employee Registry</h3>
          <div class="table" id="employee-table"></div>
        </div>
      </section>

      <section id="leaves" class="section">
        <div class="grid two">
          <div class="card">
            <h2>Leave Request</h2>
            <form id="leave-form" class="form">
              <label>Employee ID<input name="employee_id" required /></label>
              <label>Employee Name<input name="employee_name" /></label>
              <label>Leave Type<input name="leave_type" placeholder="Annual" required /></label>
              <label>Start Date<input type="date" name="start_date" required /></label>
              <label>End Date<input type="date" name="end_date" required /></label>
              <label>Reason<textarea name="reason"></textarea></label>
              <button class="primary" type="submit">Submit Leave</button>
            </form>
          </div>
          <div class="card">
            <div class="card-header">
              <div>
                <h2>Attendance Snapshot</h2>
                <p class="muted">Log or review daily attendance status.</p>
              </div>
              <button class="secondary" id="refresh-attendance">Refresh</button>
            </div>
            <form id="attendance-form" class="form">
              <label>Date<input type="date" name="date" required /></label>
              <label>Employee ID<input name="employee_id" required /></label>
              <label>Employee Name<input name="employee_name" /></label>
              <label>Department<input name="department" /></label>
              <label>Status
                <select name="status">
                  <option value="present">Present</option>
                  <option value="absent">Absent</option>
                  <option value="wfh">WFH</option>
                </select>
              </label>
              <label>Check In<input type="time" name="check_in" /></label>
              <label>Check Out<input type="time" name="check_out" /></label>
              <button class="secondary" type="submit">Log Attendance</button>
            </form>
            <div class="table" id="attendance-table"></div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div>
              <h3>Leave Workflow Queue</h3>
              <p class="muted">Requests awaiting HR/MD approval.</p>
            </div>
            <button class="secondary" id="refresh-leaves">Refresh</button>
          </div>
          <div class="table" id="leave-table"></div>
        </div>
      </section>

      <section id="approvals" class="section">
        <div class="card">
          <div class="card-header">
            <div>
              <h2>Approval Center</h2>
              <p class="muted">Maker-checker workflow for signups, finance, HR, and policy changes.</p>
            </div>
            <button class="secondary" id="refresh-approvals">Refresh</button>
          </div>
          <div class="table" id="approval-table"></div>
        </div>
      </section>

      <section id="notifications" class="section">
        <div class="card">
          <div class="card-header">
            <div>
              <h2>Notifications</h2>
              <p class="muted">System alerts, approvals, and workflow updates.</p>
            </div>
            <div class="inline-actions">
              <button class="secondary" id="refresh-notifications">Refresh</button>
              <button class="ghost" id="mark-all-read">Mark all read</button>
            </div>
          </div>
          <div class="table" id="notifications-table"></div>
        </div>
      </section>

      <section id="audit" class="section">
        <div class="card">
          <div class="card-header">
            <div>
              <h2>Audit Logs</h2>
              <p class="muted">Full traceability across HR, Finance, and Governance actions.</p>
            </div>
            <button class="secondary" id="refresh-audit">Refresh</button>
          </div>
          <div class="table" id="audit-table"></div>
        </div>
      </section>
    </main>
  </div>

  <div class="toast" id="toast"></div>

  <script src="/ui/app.js"></script>
</body>
</html>
